// SPDX-License-Identifier: MIT
pragma solidity >= 0.7.0;

import {IFeeCollector} from '../../protocols/util-contracts/interfaces/IFeeCollector.sol';
import {DeployerHelper} from '../DeployerHelper.sol';

library FeeCollectorDeployer {
    function deploy(address owner, address universalRouter, address permit2, address feeToken)
        internal
        returns (IFeeCollector feeCollector)
    {
        bytes memory args = abi.encode(owner, universalRouter, permit2, feeToken);
        bytes memory initcode_ = abi.encodePacked(initcode(), args);
        feeCollector = IFeeCollector(DeployerHelper.create(initcode_));
    }

    /**
     * @dev autogenerated - run `./script/util/create_briefcase.sh` to generate current initcode
     *
     * @notice This initcode is generated from the following contract:
     * - Source Contract: src/pkgs/util-contracts/src/FeeCollector.sol
     */
    function initcode() internal pure returns (bytes memory) {
        return
        hex'60c060405234801561000f575f5ffd5b50604051610d11380380610d1183398101604081905261002e916100bc565b5f80546001600160a01b0319166001600160a01b03861690811782556040518692907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a350600180546001600160a01b0319166001600160a01b0394851617905582166080521660a0525061010d565b80516001600160a01b03811681146100b7575f5ffd5b919050565b5f5f5f5f608085870312156100cf575f5ffd5b6100d8856100a1565b93506100e6602086016100a1565b92506100f4604086016100a1565b9150610102606086016100a1565b905092959194509250565b60805160a051610bc16101505f395f818160f8015281816103fa015281816104f201528181610527015261064d01525f81816101c1015261048f0152610bc15ff3fe6080604052600436106100dc575f3560e01c80638da5cb5b1161007c578063b4a25ce711610057578063b4a25ce714610261578063bbf20c1514610291578063d88d35de146102b0578063f2fde38b146102cf575f5ffd5b80638da5cb5b1461020257806394a228b514610220578063b2ef14e314610242575f5ffd5b8063481fb142116100b7578063481fb14214610177578063628a4b2f14610191578063647846a5146101b057806365d82753146101e3575f5ffd5b806312261ee7146100e75780631ac169861461013757806335a9e4df14610158575f5ffd5b366100e357005b5f5ffd5b3480156100f2575f5ffd5b5061011a7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020015b60405180910390f35b348015610142575f5ffd5b506101566101513660046108ee565b6102ee565b005b348015610163575f5ffd5b5060015461011a906001600160a01b031681565b348015610182575f5ffd5b5061011a6001600160a01b0381565b34801561019c575f5ffd5b506101566101ab36600461094d565b610330565b3480156101bb575f5ffd5b5061011a7f000000000000000000000000000000000000000000000000000000000000000081565b3480156101ee575f5ffd5b506101566101fd3660046109b0565b6103c2565b34801561020d575f5ffd5b505f5461011a906001600160a01b031681565b34801561022b575f5ffd5b506102345f1981565b60405190815260200161012e565b34801561024d575f5ffd5b5061015661025c3660046109ef565b610459565b34801561026c575f5ffd5b5061027a65ffffffffffff81565b60405165ffffffffffff909116815260200161012e565b34801561029c575f5ffd5b506101566102ab366004610a19565b6104ba565b3480156102bb575f5ffd5b506101566102ca366004610a92565b61060d565b3480156102da575f5ffd5b506101566102e936600461094d565b6106b5565b5f546001600160a01b031633146103205760405162461bcd60e51b815260040161031790610b03565b60405180910390fd5b61032b838383610728565b505050565b5f546001600160a01b031633146103595760405162461bcd60e51b815260040161031790610b03565b600154604080516001600160a01b03928316815291831660208301527f736ee8e49f5bc52c4483e2bf96ce5c99a25af7c12037267ccde543b28ab63071910160405180910390a1600180546001600160a01b0319166001600160a01b0392909216919091179055565b5f546001600160a01b031633146103eb5760405162461bcd60e51b815260040161031790610b03565b5f5b8181101561032b576104517f00000000000000000000000000000000000000000000000000000000000000005f85858581811061042c5761042c610b29565b9050602002016020810190610441919061094d565b6001600160a01b031691906107b0565b6001016103ed565b5f546001600160a01b031633146104825760405162461bcd60e51b815260040161031790610b03565b6104b66001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016838361082c565b5050565b5f546001600160a01b031633146104e35760405162461bcd60e51b815260040161031790610b03565b5f5b818110156105fa576105257f00000000000000000000000000000000000000000000000000000000000000005f1985858581811061042c5761042c610b29565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166387517c4584848481811061056657610566610b29565b905060200201602081019061057b919061094d565b60015460405160e084901b6001600160e01b03191681526001600160a01b0392831660048201529082166024820152604481019190915265ffffffffffff60648201526084015f604051808303815f87803b1580156105d8575f5ffd5b505af11580156105ea573d5f5f3e3d5ffd5b5050600190920191506104e59050565b50610606858585610728565b5050505050565b5f546001600160a01b031633146106365760405162461bcd60e51b815260040161031790610b03565b60405163cc53287f60e01b81526001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169063cc53287f906106849085908590600401610b3d565b5f604051808303815f87803b15801561069b575f5ffd5b505af11580156106ad573d5f5f3e3d5ffd5b505050505050565b5f546001600160a01b031633146106de5760405162461bcd60e51b815260040161031790610b03565b5f80546001600160a01b0319166001600160a01b0383169081178255604051909133917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a350565b6001546040515f916001600160a01b03169083906107499087908790610ba5565b5f6040518083038185875af1925050503d805f8114610783576040519150601f19603f3d011682016040523d82523d5f602084013e610788565b606091505b50509050806107aa5760405163cee8b77760e01b815260040160405180910390fd5b50505050565b5f60405163095ea7b360e01b81526001600160a01b038416600482015282602482015260205f6044835f895af13d15601f3d1160015f5114161716915050806107aa5760405162461bcd60e51b815260206004820152600e60248201526d1054141493d59157d1905253115160921b6044820152606401610317565b5f60405163a9059cbb60e01b81526001600160a01b038416600482015282602482015260205f6044835f895af13d15601f3d1160015f5114161716915050806107aa5760405162461bcd60e51b815260206004820152600f60248201526e1514905394d1915497d19052531151608a1b6044820152606401610317565b5f5f83601f8401126108b9575f5ffd5b50813567ffffffffffffffff8111156108d0575f5ffd5b6020830191508360208285010111156108e7575f5ffd5b9250929050565b5f5f5f60408486031215610900575f5ffd5b833567ffffffffffffffff811115610916575f5ffd5b610922868287016108a9565b909790965060209590950135949350505050565b6001600160a01b038116811461094a575f5ffd5b50565b5f6020828403121561095d575f5ffd5b813561096881610936565b9392505050565b5f5f83601f84011261097f575f5ffd5b50813567ffffffffffffffff811115610996575f5ffd5b6020830191508360208260051b85010111156108e7575f5ffd5b5f5f602083850312156109c1575f5ffd5b823567ffffffffffffffff8111156109d7575f5ffd5b6109e38582860161096f565b90969095509350505050565b5f5f60408385031215610a00575f5ffd5b8235610a0b81610936565b946020939093013593505050565b5f5f5f5f5f60608688031215610a2d575f5ffd5b853567ffffffffffffffff811115610a43575f5ffd5b610a4f888289016108a9565b90965094505060208601359250604086013567ffffffffffffffff811115610a75575f5ffd5b610a818882890161096f565b969995985093965092949392505050565b5f5f60208385031215610aa3575f5ffd5b823567ffffffffffffffff811115610ab9575f5ffd5b8301601f81018513610ac9575f5ffd5b803567ffffffffffffffff811115610adf575f5ffd5b8560208260061b8401011115610af3575f5ffd5b6020919091019590945092505050565b6020808252600c908201526b15539055551213d49256915160a21b604082015260600190565b634e487b7160e01b5f52603260045260245ffd5b602080825281018290525f8360408301825b85811015610b9b578235610b6281610936565b6001600160a01b031682526020830135610b7b81610936565b6001600160a01b0316602083015260409283019290910190600101610b4f565b5095945050505050565b818382375f910190815291905056fea164736f6c634300081c000a';
    }
}
