[profile.default]
src = "src/main"
out = "out"
libs = ["lib"]
optimizer = true
optimizer_runs = 800
bytecode_hash = "none"
via_ir = false
verbosity = 2
ffi = true
fs_permissions = [
  { access = "read-write", path = ".forge-snapshots"},
  { access = "read", path = "script/" },
  { access = "read", path = "out/" }
]
evm_version = "cancun"

skip = [
  "src/pkgs/**/audits/**",
  "src/pkgs/**/certora/**",
  "src/pkgs/**/lib/**",
  "src/pkgs/universal-router/permit2/**",
  "src/pkgs/universal-router/solmate/**",
  "**/test/**",
  "*.s.sol"
]

[profile.deploy]
skip = []

[profile.v2-core]
src = "src/pkgs/v2-core"
solc = "0.5.16"
optimizer_runs = 999999
# evm_version = todo

[profile.v2-periphery]
src = "src/pkgs/v2-periphery"

[profile.v3-core]
src = "src/pkgs/v3-core"

[profile.v3-periphery]
src = "src/pkgs/v3-periphery"

[profile.v4-core]
src = "src/pkgs/v4-core"
libs = ["src/pkgs/v4-core/lib"]
solc = "0.8.26"
optimizer_runs = 44444444
via_ir = true
evm_version = "cancun"

[profile.v4-periphery]
src = "src/pkgs/v4-periphery"
libs = ["src/pkgs/v4-core"]
solc = "0.8.26"
optimizer_runs = 1_000_000
via_ir = false
evm_version = "cancun"

[profile.permit2]
src = "src/pkgs/permit2"
libs = ["src/pkgs/permit2/lib"]
solc = "0.8.17"
optimizer_runs = 1000000
via_ir = true
# evm_version = todo

[profile.universal-router]
src = "src/pkgs/universal-router"
libs = ["src/pkgs/universal-router/lib"]
solc = "0.8.17"
optimizer_runs = 1_000_000
via_ir = true
# evm_version = todo

[profile.uniswapx]
src = "src/pkgs/uniswapx"
solc = "0.8.24"
optimizer_runs = 1000000
via_ir = false
# evm_version = todo

[fmt]
line_length = 120
tab_width = 4
quote_style = "single"
sort_imports = true
number_underscore = "thousands"

[rpc_endpoints]
anvil = "http://127.0.0.1:8545"

# See more config options https://github.com/foundry-rs/foundry/tree/master/config